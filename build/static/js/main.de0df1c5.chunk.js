(this["webpackJsonpgrow-epam"]=this["webpackJsonpgrow-epam"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),o=a.n(r),i=a(4),s=a(2),l=a(3),u="CREATE_GOAL",d="CREATE_CATEGORY",j="TOGGLE_COLLAPSE_CATEGORY",b="CHANGE_GOAL_STATUS",O="DELETE_GOAL",g="RENAME_GOAL",p="CHANGE_TIMESTAMP",f="RENAME_CRITERIA",m="DELETE_CRITERIA",h="CREATE_CRITERIA",C="TOGGLE_CRITERIA_COMPLETION",x="ADD_GOAL",y="DISCARD_GOAL_CREATION",v="TOGGLE_FILTERS",N="CHANGE_GOAL_TITLE",E="CHANGE_GOAL_CATEGORY",I="CHANGE_VIEW",A=[{backgroundColor:"red",optionName:"Label 1"},{backgroundColor:"yellow",optionName:"Label 2"},{backgroundColor:"limegreen",optionName:"Label 3"},{backgroundColor:"turquoise",optionName:"Label 4"}],G=[{backgroundColor:"blue",optionName:"Planned",selectedName:"PLANNED",stateLabel:"planned"},{backgroundColor:"blue",optionName:"In progress",selectedName:"IN PROGRESS",stateLabel:"inProgress"},{backgroundColor:"green",optionName:"Done",selectedName:"DONE",stateLabel:"done"},{backgroundColor:"gray",optionName:"Canceled",selectedName:"CANCELED",stateLabel:"canceled"}],w=[{optionName:"Edit name",action:"EDIT_GOAL_NAME"},{optionName:"Add action item",action:"ADD_ACTION_ITEM"},{optionName:"Archive",action:"ARCHIVE_GOAL"},{optionName:"Delete",action:"DELETE_GOAL"}],k=function(e){return{type:j,payload:e}},L=function(e,t){return{type:b,payload:{goalId:e,status:t}}},T=function(e){return{type:O,payload:{goalId:e}}},D=function(e,t){return{type:g,payload:{goalId:e,title:t}}},_=function(e,t,a){return{type:p,payload:{goalId:e,name:t,value:a}}},R=function(e,t,a){return{type:f,payload:{goalId:e,criteriaId:t,title:a}}},S=function(e,t){return{type:m,payload:{goalId:e,criteriaId:t}}},F=function(e,t){return{type:h,payload:{goalId:e,title:t}}},H=function(e,t){return{type:C,payload:{goalId:e,criteriaId:t}}},B=function(){return{type:x}},M=function(){return{type:y}},V=function(){return{type:v}},P=function(e){return{type:N,payload:e}},J=function(e){return{type:E,payload:+e}},Y=function(e,t){return{type:u,payload:{title:e,categoryId:t}}},q=function(e){return{type:I,payload:e}},U=function(e){return{type:d,payload:e}},W=a(5),z=a(11),K=a.n(z),Q=[{name:"start",label:"Start"},{name:"deadline",label:"Deadline"},{name:"finish",label:"Finish"}],X=a(0),Z=function(e){var t=e.goalDetails,a=e.changeTimestamp;return Object(X.jsx)("div",{className:"goal-details-timestamps",children:Q.map((function(e,n){var c=e.name,r=e.label;return Object(X.jsxs)("label",{children:[r,":",Object(X.jsx)("input",{type:"date",defaultValue:t[c],name:c,onChange:function(e){var t=e.target,n=t.name,c=t.value;return a(n,c)}})]},n)}))})},$=function(e,t){var a=function(a){e.current&&!e.current.contains(a.target)&&t()};Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))},ee=function(e){var t=e.title,a=void 0===t?"":t,c=e.applyFieldName,r=e.endEditing,o=e.showActionButtons,i=Object(n.useRef)(),s=function(){i.current.value.trim()&&(c(i.current.value),r())};return $(i,(function(){return s()})),Object(n.useEffect)((function(){i.current&&i.current.select()}),[]),Object(X.jsxs)("div",{className:"edit",children:[Object(X.jsx)("input",{type:"text",ref:i,defaultValue:a,className:"edit-input"}),o&&Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("button",{onClick:function(){return s()},children:"tick"}),Object(X.jsx)("button",{onClick:function(){return r()},children:"cross"})]})]})},te=function(e){var t=e.deleteCriteria,a=e.renameCriteria,c=e.toggleCriteria\u0421ompletion,r=e.createCriteria,o=e.goalDetails.successCriteria,i=Object(n.useState)(!1),s=Object(W.a)(i,2),l=s[0],u=s[1],d=Object(n.useState)(!1),j=Object(W.a)(d,2),b=j[0],O=j[1];return Object(X.jsxs)("div",{className:"criterias",children:[Object(X.jsxs)("div",{className:"criterias-title",children:[Object(X.jsx)("p",{children:"success criteria"}),Object(X.jsx)("button",{onClick:function(){return O(!0)},children:"create criteria"})]}),o.map((function(e){var n=e.isCompleted,r=e.title,o=e.id;return Object(X.jsxs)("div",{className:"success-criteria",children:[Object(X.jsx)("input",{type:"checkbox",checked:n,onChange:function(){return c(o)}}),l?Object(X.jsx)(ee,{title:r,applyFieldName:function(e){return a(o,e)},endEditing:function(){return u(!1)},showActionButtons:!0}):Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("p",{className:"success-criteria-title",children:r}),Object(X.jsxs)("div",{className:"success-criteria-actions",children:[Object(X.jsx)("button",{onClick:function(){return u(!0)},children:"\u270e"}),Object(X.jsx)("button",{onClick:function(){return t(o)},children:"\ud83d\uddd1"})]})]})]},o)})),b&&Object(X.jsx)(ee,{applyFieldName:function(e){return r(e)},endEditing:function(){return O(!1)},showActionButtons:!0})]})},ae=function(e){var t=e.goalDetails.attachments;return Object(X.jsxs)("div",{className:"goal-details",children:[Object(X.jsx)(Z,Object(s.a)({},e)),Object(X.jsx)("hr",{}),Object(X.jsx)(te,Object(s.a)({},e)),t.map((function(e,t){return Object(X.jsx)("div",{children:"123"})}))]})},ne=a(7),ce=function(e){var t=e.onAction,a=e.modifiers,c=e.type,r=e.className,o=e.options,i=e.isGoalCollapsed,s=Object(n.useRef)(),l=Object(n.useState)(!1),u=Object(W.a)(l,2),d=u[0],j=u[1],b=o.find((function(e){return a[e.stateLabel]}))||o[0],O=K()("select-header","select-header-".concat(b.backgroundColor),Object(ne.a)({},"select-header-".concat(b.backgroundColor,"-opened"),d||!i));$(s,(function(){return d&&j(!1)}));return function(){switch(c){case"multiselect":return Object(X.jsxs)("div",{className:"select-wrapper select-wrapper--"+r,children:[Object(X.jsx)("button",{onClick:function(){return j(!d)},className:O,children:b.selectedName}),d&&Object(X.jsx)("div",{className:"options",ref:s,children:o.map((function(e,a){return Object(X.jsx)("div",{className:"option option--"+e.backgroundColor,onClick:function(){return t(e.stateLabel)||j(!1)},children:e.optionName},a)}))})]});case"select":return Object(X.jsxs)("div",{className:"select-wrapper select-wrapper--"+r,children:[Object(X.jsx)("button",{onClick:function(){return j(!d)},className:O,children:b.selectedName}),d&&Object(X.jsx)("div",{className:"options",ref:s,children:o.map((function(e,a){return Object(X.jsx)("div",{className:"option option--"+e.backgroundColor,onClick:function(){t(e.stateLabel),j(!1)},children:e.optionName},a)}))})]});case"menu":return Object(X.jsxs)("div",{className:"select-wrapper select-wrapper--"+r,children:[Object(X.jsx)("button",{onClick:function(){return j(!d)},className:O,children:":"}),d&&Object(X.jsx)("div",{className:"options",ref:s,children:o.map((function(e,a){return Object(X.jsx)("div",{className:"option option--"+e.backgroundColor,onClick:function(){return t(e.action)||j(!1)},children:e.optionName},a)}))})]});default:return Object(X.jsx)("div",{children:"not found"})}}()},re=a(6),oe=function(e){var t=e.groupOrder,a=e.listOrder;return{title:e.title,categoryId:e.categoryId,groupOrder:t,listOrder:a,actionItems:[],label:A[3],modifiers:{closed:!1,done:!1},id:Date.now(),goalDetails:{start:"",deadline:"",finish:"",successCriteria:[],attachments:[]}}},ie=function(e){return{title:e,isCompleted:!1,id:Date.now()}},se=function(e){return{name:e,isCollapsed:!0,id:Date.now()}},le=function(e,t){var a=e.categories.findIndex((function(e){return e.id===+t}));return Object(s.a)(Object(s.a)({},e),{},{categories:[].concat(Object(re.a)(e.categories.slice(0,a)),[Object(s.a)(Object(s.a)({},e.categories[a]),{},{isCollapsed:!e.categories[a].isCollapsed})],Object(re.a)(e.categories.slice(a+1)))})},ue=function(e,t,a){var n=e.goals;return Object(s.a)(Object(s.a)({},e),{},{goals:n.map((function(e){return e.id===+t.goalId&&(e[a]=t[a]),e}))})},de=Object(i.b)(null,(function(e){return Object(l.b)({deleteGoal:T,changeGoalStatus:L,renameGoal:D},e)}))((function(e){var t=e.goal,a=e.renameGoal,c=e.deleteGoal,r=e.changeGoalStatus,o=e.showHideGoal,i=e.isGoalCollapsed,l=t.id,u=t.modifiers,d=Object(n.useState)(!1),j=Object(W.a)(d,2),b=j[0],O=j[1],g=function(e,t){var a=e.label,n=e.modifiers;return[{actionsType:"labelSelect",selectHeader:" ",backgroundColor:a.backgroundColor,options:A,className:"labels",type:"multiselect"},{actionsType:"statusSelect",options:G,modifiers:n,className:"status",type:"select"},{actionsType:"moreActions",selectHeader:":",backgroundColor:"transparent",options:w,className:"edit",type:"menu"}].map((function(e){return Object(s.a)(Object(s.a)({},e),{},{onAction:t[e.actionsType]})}))}(t,{statusSelect:function(e){return r(l,e)},moreActions:function(e){switch(e){case"EDIT_GOAL_NAME":O(!0);break;case"ADD_ACTION_ITEM":console.log("add action item");break;case"ARCHIVE_GOAL":console.log("ARCHIVE_GOAL");break;case"DELETE_GOAL":c(l)}}});return Object(X.jsxs)("div",{className:"goal-header",children:[Object(X.jsx)("div",{className:"done-checkbox",children:Object(X.jsx)("input",{type:"checkbox",checked:u.done,onChange:function(){r(l,u.done?"planned":"done")}})}),Object(X.jsx)("div",{className:"goal-title",children:b?Object(X.jsx)(ee,{applyFieldName:function(e){return a(l,e)},endEditing:function(){return O(!1)},title:t.title}):Object(X.jsx)("div",{onClick:function(){return o(!i)},children:Object(X.jsxs)("p",{children:[t.title,Object(X.jsx)("button",{onClick:function(e){e.stopPropagation(),O(!0)},children:"\u270e"})]})})}),i&&Object(X.jsx)("div",{children:"Add action item"}),g.map((function(e,a){return Object(n.createElement)(ce,Object(s.a)(Object(s.a)(Object(s.a)({},t),{},{isGoalCollapsed:i},e),{},{key:a}))}))]})})),je=Object(i.b)(null,(function(e){return Object(l.b)({changeTimestamp:_,renameCriteria:R,deleteCriteria:S,createCriteria:F,"toggleCriteria\u0421ompletion":H},e)}))((function(e){var t=e.goal,a=e.changeTimestamp,c=e.renameCriteria,r=e.deleteCriteria,o=e.createCriteria,i=e.toggleCriteria\u0421ompletion,s=t.actionItems,l=t.id,u=t.goalDetails,d=t.modifiers,j=Object(n.useState)(!0),b=Object(W.a)(j,2),O=b[0],g=b[1],p=K()("goal",{"goal-opened":!O,"goal--canceled":d.canceled,"goal--done":d.done,"goal--planned_inprogress":!d.canceled&&!d.done});return Object(X.jsxs)("div",{className:p,children:[Object(X.jsx)(de,{goal:t,isGoalCollapsed:O,showHideGoal:g}),!O&&Object(X.jsx)(ae,{goalDetails:u,changeTimestamp:function(e,t){return a(l,e,t)},renameCriteria:function(e,t){return c(l,e,t)},deleteCriteria:function(e){return r(l,e)},createCriteria:function(e){return o(l,e)},"toggleCriteria\u0421ompletion":function(e){return i(l,e)}}),Object(X.jsx)("ul",{children:s.map((function(e,t){return Object(X.jsx)("li",{children:e},t)}))})]})})),be=Object(i.b)((function(e){return{categories:e.dashboard.categories,viewBy:e.dashboard.viewBy,goals:e.dashboard.goals}}),(function(e){return Object(l.b)({toggleCollapseCategory:k},e)}))((function(e){var t=e.categories,a=e.viewBy,c=e.goals,r=e.toggleCollapseCategory,o=function(e){var t=e.name,a=e.isCollapsed,n=e.id,o=c.filter((function(e){return e.categoryId===+n}));return Object(X.jsxs)("div",{className:"category",children:[Object(X.jsxs)("div",{onClick:function(){return r(n)},className:"category-name",children:[Object(X.jsxs)("p",{children:[t," - ",o.length]}),Object(X.jsx)("div",{className:"cross-line"}),Object(X.jsx)("i",{className:"delete-category",children:"\u2717"})]}),!a&&o.map((function(e){return Object(X.jsx)(je,{goal:e},e.id)}))]},n)};return Object(X.jsx)("div",{className:"dashboard",children:function(){switch(a){case"groups":return t.map(o);case"freeList":return c.map((function(t){return Object(n.createElement)(je,Object(s.a)(Object(s.a)({},e),{},{goal:t,key:t.id}))}));default:return Object(X.jsx)("div",{children:"not found"})}}()})})),Oe=Object(i.b)((function(e){return{showGoalCreation:e.dashboard.showGoalCreation,showFilters:e.dashboard.showFilters,goalCreation:e.dashboard.goalCreation,categories:e.dashboard.categories}}),(function(e){return Object(l.b)({addGoal:B,discardGoalCreation:M,toggleFilters:V,changeGoalTitle:P,createGoal:Y,changeGoalCategory:J,changeView:q,createCategory:U},e)}))((function(e){var t=e.showGoalCreation,a=e.showFilters,c=e.goalCreation,r=e.categories,o=e.addGoal,i=e.discardGoalCreation,s=e.toggleFilters,l=e.changeGoalTitle,u=e.changeGoalCategory,d=e.createGoal,j=e.changeView,b=e.createCategory,O=c.title,g=c.categoryId,p=Object(n.useState)(!1),f=Object(W.a)(p,2),m=f[0],h=f[1];return Object(X.jsxs)("div",{children:[Object(X.jsxs)("div",{className:"filter-controls",children:[Object(X.jsx)("div",{className:"goal-creation",children:t?Object(X.jsxs)(X.Fragment,{children:[Object(X.jsx)("input",{type:"text",className:"add-goal-area",placeholder:"Type a goal",onChange:function(e){return l(e.target.value)},value:O}),Object(X.jsxs)("div",{className:"actions",children:[Object(X.jsx)("button",{disabled:!O.length||!g,onClick:function(){return d(O,g)},children:"\u2713"}),Object(X.jsx)("button",{onClick:function(){return i()},children:"\u2715"})]}),Object(X.jsxs)("select",{onChange:function(e){return u(e.target.value)},children:[Object(X.jsx)("option",{disabled:!0,selected:!0}),r.map((function(e){var t=e.id,a=e.name;return Object(X.jsx)("option",{value:t,children:a},t)}))]})]}):Object(X.jsx)("button",{onClick:function(){return o()},className:"add-goal",children:"ADD GOAL"})}),a?Object(X.jsx)("button",{onClick:function(){return s()},children:"hide filters"}):Object(X.jsx)("button",{onClick:function(){return s()},children:"show filters"}),Object(X.jsx)("button",{onClick:function(){return h(!m)},children:"Add group"}),Object(X.jsxs)("div",{className:"view-by",children:[Object(X.jsx)("p",{children:"View by:"}),Object(X.jsxs)("select",{onChange:function(e){return j(e.target.value)},children:[Object(X.jsx)("option",{value:"groups",children:"Groups"}),Object(X.jsx)("option",{value:"freeList",children:"Free list"})]})]})]}),m&&Object(X.jsx)(ee,{applyFieldName:function(e){return b(e)},endEditing:function(){return h(!1)},showActionButtons:!0})]})})),ge=Object(i.b)((function(e){return{state:e}}))((function(e){var t=e.state;return Object(n.useEffect)((function(){window.localStorage.setItem("grow",JSON.stringify(t))}),[t]),Object(X.jsxs)("div",{className:"main",children:[Object(X.jsx)(Oe,{}),Object(X.jsx)(be,{})]})})),pe=(a(29),a(17)),fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},me={closed:!1,done:!1},he={showGoalCreation:!1,showFilters:!1,goalCreation:{title:"",categoryId:null}},Ce=Object(s.a)(Object(s.a)({},he),{categories:[],goals:[],viewBy:"groups"}),xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:var c=e.goals.filter((function(e){return e.categoryId===+n.categoryId})).length,r=e.goals.length+1;return Object(s.a)(Object(s.a)({},e),{},{goals:[].concat(Object(re.a)(e.goals),[oe(Object(s.a)(Object(s.a)({},n),{},{groupOrder:c,listOrder:r}))]),categories:e.categories.map((function(e){return e.id===+n.categoryId&&(e.isCollapsed=!1),e}))},he);case j:return le(e,n);case b:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).modifiers=Object(s.a)(Object(s.a)({},me),{},Object(ne.a)({},n.status,!0))),e}))});case O:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.filter((function(e){return e.id!==+n.goalId}))});case g:return ue(e,n,"title");case p:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&(e.goalDetails[n.name]=[n.value]),e}))});case f:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&(e.goalDetails.successCriteria=e.goalDetails.successCriteria.map((function(e){return e.id===+n.criteriaId&&(e.title=n.title),e}))),e}))});case m:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).goalDetails.successCriteria=e.goalDetails.successCriteria.filter((function(e){return e.id!==+n.criteriaId}))),e}))});case h:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&(e.goalDetails.successCriteria=[].concat(Object(re.a)(e.goalDetails.successCriteria),[ie(n.title)])),e}))});case C:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).goalDetails.successCriteria=e.goalDetails.successCriteria.map((function(e){return e.id!==+n.criteriaId?e:Object(s.a)(Object(s.a)({},e),{},{isCompleted:!e.isCompleted})}))),e}))});case d:return Object(s.a)(Object(s.a)({},e),{},{categories:[].concat(Object(re.a)(e.categories),[se(n)])});case x:return Object(s.a)(Object(s.a)({},e),{},{showFilters:!1,showGoalCreation:!0});case y:return Object(s.a)(Object(s.a)({},e),he);case v:return Object(s.a)(Object(s.a)({},e),{},{showGoalCreation:!1,showFilters:!e.showFilters});case N:return Object(s.a)(Object(s.a)({},e),{},{goalCreation:Object(s.a)(Object(s.a)({},e.goalCreation),{},{title:t.payload})});case E:return Object(s.a)(Object(s.a)({},e),{},{goalCreation:Object(s.a)(Object(s.a)({},e.goalCreation),{},{categoryId:t.payload})});case I:return Object(s.a)(Object(s.a)({},e),{},{viewBy:t.payload});default:return e}},ye=[pe.a],ve=Object(l.d)(Object(l.c)({root:fe,dashboard:xe}),JSON.parse(window.localStorage.getItem("grow"))||{},l.a.apply(void 0,ye));o.a.render(Object(X.jsx)(c.a.StrictMode,{children:Object(X.jsx)(i.a,{store:ve,children:Object(X.jsx)(ge,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.de0df1c5.chunk.js.map