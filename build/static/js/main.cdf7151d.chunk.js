(this["webpackJsonpgrow-epam"]=this["webpackJsonpgrow-epam"]||[]).push([[0],{29:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),r=a(9),o=a.n(r),i=a(4),s=a(2),l=a(3),u="CREATE_GOAL",d="CREATE_CATEGORY",j="TOGGLE_COLLAPSE_CATEGORY",b="DELETE_CATEGORY",O="CHANGE_GOAL_STATUS",g="DELETE_GOAL",p="RENAME_GOAL",f="CHANGE_TIMESTAMP",m="RENAME_CRITERIA",h="DELETE_CRITERIA",C="CREATE_CRITERIA",y="TOGGLE_CRITERIA_COMPLETION",x="ADD_GOAL",v="DISCARD_GOAL_CREATION",N="TOGGLE_FILTERS",E="CHANGE_GOAL_TITLE",A="CHANGE_GOAL_CATEGORY",I="CHANGE_VIEW",G=[{backgroundColor:"red",optionName:"Label 1"},{backgroundColor:"yellow",optionName:"Label 2"},{backgroundColor:"limegreen",optionName:"Label 3"},{backgroundColor:"turquoise",optionName:"Label 4"}],w=[{backgroundColor:"blue",optionName:"Planned",selectedName:"PLANNED",stateLabel:"planned"},{backgroundColor:"blue",optionName:"In progress",selectedName:"IN PROGRESS",stateLabel:"inProgress"},{backgroundColor:"green",optionName:"Done",selectedName:"DONE",stateLabel:"done"},{backgroundColor:"gray",optionName:"Canceled",selectedName:"CANCELED",stateLabel:"canceled"}],k=[{optionName:"Edit name",action:"EDIT_GOAL_NAME"},{optionName:"Add action item",action:"ADD_ACTION_ITEM"},{optionName:"Archive",action:"ARCHIVE_GOAL"},{optionName:"Delete",action:"DELETE_GOAL"}],L=function(e){return{type:j,payload:e}},T=function(e){return{type:b,payload:e}},D=function(e,t){return{type:O,payload:{goalId:e,status:t}}},_=function(e){return{type:g,payload:{goalId:e}}},R=function(e,t){return{type:p,payload:{goalId:e,title:t}}},S=function(e,t,a){return{type:f,payload:{goalId:e,name:t,value:a}}},F=function(e,t,a){return{type:m,payload:{goalId:e,criteriaId:t,title:a}}},H=function(e,t){return{type:h,payload:{goalId:e,criteriaId:t}}},B=function(e,t){return{type:C,payload:{goalId:e,title:t}}},M=function(e,t){return{type:y,payload:{goalId:e,criteriaId:t}}},P=function(){return{type:x}},V=function(){return{type:v}},J=function(){return{type:N}},Y=function(e){return{type:E,payload:e}},U=function(e){return{type:A,payload:+e}},q=function(e,t){return{type:u,payload:{title:e,categoryId:t}}},W=function(e){return{type:I,payload:e}},z=function(e){return{type:d,payload:e}},K=a(5),Q=a(11),X=a.n(Q),Z=[{name:"start",label:"Start"},{name:"deadline",label:"Deadline"},{name:"finish",label:"Finish"}],$=a(0),ee=function(e){var t=e.goalDetails,a=e.changeTimestamp;return Object($.jsx)("div",{className:"goal-details-timestamps",children:Z.map((function(e,n){var c=e.name,r=e.label;return Object($.jsxs)("label",{children:[r,":",Object($.jsx)("input",{type:"date",defaultValue:t[c],name:c,onChange:function(e){var t=e.target,n=t.name,c=t.value;return a(n,c)}})]},n)}))})},te=function(e,t){var a=function(a){e.current&&!e.current.contains(a.target)&&t()};Object(n.useEffect)((function(){return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}))},ae=function(e){var t=e.title,a=void 0===t?"":t,c=e.applyFieldName,r=e.endEditing,o=e.showActionButtons,i=e.placeholder,s=Object(n.useRef)(),l=function(){s.current.value.trim()&&(c(s.current.value),r())};return te(s,(function(){return l()})),Object(n.useEffect)((function(){s.current&&s.current.select()}),[]),Object($.jsxs)("div",{className:"edit",children:[Object($.jsx)("input",{type:"text",ref:s,defaultValue:a,className:"edit-input",placeholder:i}),o&&Object($.jsxs)($.Fragment,{children:[Object($.jsx)("button",{onClick:function(){return l()},children:"\u2713"}),Object($.jsx)("button",{onClick:function(){return r()},children:"\u2715"})]})]})},ne=function(e){var t=e.deleteCriteria,a=e.renameCriteria,c=e.toggleCriteria\u0421ompletion,r=e.createCriteria,o=e.goalDetails;console.log(e);var i=o.successCriteria,l=Object(n.useState)(!1),u=Object(K.a)(l,2),d=u[0],j=u[1],b=function(e){var r=e.isCompleted,o=e.title,i=e.id,s=Object(n.useState)(!1),l=Object(K.a)(s,2),u=l[0],d=l[1];return Object($.jsxs)("div",{className:"success-criteria",children:[Object($.jsx)("input",{type:"checkbox",checked:r,onChange:function(){return c(i)}}),u?Object($.jsx)(ae,{title:o,applyFieldName:function(e){return a(i,e)},endEditing:function(){return d(!1)},showActionButtons:!0}):Object($.jsxs)($.Fragment,{children:[Object($.jsx)("p",{className:"success-criteria-title",children:o}),Object($.jsxs)("div",{className:"success-criteria-actions",children:[Object($.jsx)("button",{onClick:function(){return d(!0)},children:"\u270e"}),Object($.jsx)("button",{onClick:function(){return t(i)},children:"\ud83d\uddd1"})]})]})]})};return Object($.jsxs)("div",{className:"criterias",children:[Object($.jsxs)("div",{className:"criterias-title",children:[Object($.jsx)("p",{children:"SUCCESS CRITERIA"}),Object($.jsx)("button",{onClick:function(){return j(!0)},children:"Add criteria"})]}),i.map((function(e,t){return Object(n.createElement)(b,Object(s.a)(Object(s.a)({},e),{},{key:t}))})),d&&Object($.jsx)(ae,{applyFieldName:function(e){return r(e)},endEditing:function(){return j(!1)},placeholder:"Edit success criteria",showActionButtons:!0})]})},ce=function(e){var t=e.goalDetails.attachments;return Object($.jsxs)("div",{className:"goal-details",children:[Object($.jsx)(ee,Object(s.a)({},e)),Object($.jsx)(ne,Object(s.a)({},e)),t.map((function(e,t){return Object($.jsx)("div",{children:"123"})}))]})},re=a(7),oe=function(e){var t=e.onAction,a=e.modifiers,c=e.type,r=e.className,o=e.options,i=e.isGoalCollapsed,s=Object(n.useRef)(),l=Object(n.useState)(!1),u=Object(K.a)(l,2),d=u[0],j=u[1],b=o.find((function(e){return a[e.stateLabel]}))||o[0],O=X()("select-header","select-header-".concat(b.backgroundColor),Object(re.a)({},"select-header-".concat(b.backgroundColor,"-opened"),d||!i));te(s,(function(){return d&&j(!1)}));return function(){switch(c){case"multiselect":return Object($.jsxs)("div",{className:"select-wrapper select-wrapper--"+r,children:[Object($.jsx)("button",{onClick:function(){return j(!d)},className:O,children:b.selectedName}),d&&Object($.jsx)("div",{className:"options",ref:s,children:o.map((function(e,a){return Object($.jsx)("div",{className:"option option--"+e.backgroundColor,onClick:function(){return t(e.stateLabel)||j(!1)},children:e.optionName},a)}))})]});case"select":return Object($.jsxs)("div",{className:"select-wrapper select-wrapper--"+r,children:[Object($.jsx)("button",{onClick:function(){return j(!d)},className:O,children:b.selectedName}),d&&Object($.jsx)("div",{className:"options",ref:s,children:o.map((function(e,a){return Object($.jsx)("div",{className:"option option--"+e.backgroundColor,onClick:function(){t(e.stateLabel),j(!1)},children:e.optionName},a)}))})]});case"menu":return Object($.jsxs)("div",{className:"select-wrapper select-wrapper--"+r,children:[Object($.jsx)("button",{onClick:function(){return j(!d)},className:O,children:":"}),d&&Object($.jsx)("div",{className:"options",ref:s,children:o.map((function(e,a){return Object($.jsx)("div",{className:"option option--"+e.backgroundColor,onClick:function(){return t(e.action)||j(!1)},children:e.optionName},a)}))})]});default:return Object($.jsx)("div",{children:"not found"})}}()},ie=a(6),se=function(e){var t=e.groupOrder,a=e.listOrder;return{title:e.title,categoryId:e.categoryId,groupOrder:t,listOrder:a,actionItems:[],label:G[3],modifiers:{closed:!1,done:!1},id:Date.now(),goalDetails:{start:"",deadline:"",finish:"",successCriteria:[],attachments:[]}}},le=function(e){return{title:e,isCompleted:!1,id:Date.now()}},ue=function(e){return{name:e,isCollapsed:!0,id:Date.now()}},de=function(e,t){var a=e.categories.findIndex((function(e){return e.id===+t}));return Object(s.a)(Object(s.a)({},e),{},{categories:[].concat(Object(ie.a)(e.categories.slice(0,a)),[Object(s.a)(Object(s.a)({},e.categories[a]),{},{isCollapsed:!e.categories[a].isCollapsed})],Object(ie.a)(e.categories.slice(a+1)))})},je=function(e,t,a){var n=e.goals;return Object(s.a)(Object(s.a)({},e),{},{goals:n.map((function(e){return e.id===+t.goalId&&(e[a]=t[a]),e}))})},be=Object(i.b)(null,(function(e){return Object(l.b)({deleteGoal:_,changeGoalStatus:D,renameGoal:R},e)}))((function(e){var t=e.goal,a=e.renameGoal,c=e.deleteGoal,r=e.changeGoalStatus,o=e.showHideGoal,i=e.isGoalCollapsed,l=t.id,u=t.modifiers,d=Object(n.useState)(!1),j=Object(K.a)(d,2),b=j[0],O=j[1],g=function(e,t){var a=e.label,n=e.modifiers;return[{actionsType:"labelSelect",selectHeader:" ",backgroundColor:a.backgroundColor,options:G,className:"labels",type:"multiselect"},{actionsType:"statusSelect",options:w,modifiers:n,className:"status",type:"select"},{actionsType:"moreActions",selectHeader:":",backgroundColor:"transparent",options:k,className:"edit",type:"menu"}].map((function(e){return Object(s.a)(Object(s.a)({},e),{},{onAction:t[e.actionsType]})}))}(t,{statusSelect:function(e){return r(l,e)},moreActions:function(e){switch(e){case"EDIT_GOAL_NAME":O(!0);break;case"ADD_ACTION_ITEM":console.log("add action item");break;case"ARCHIVE_GOAL":console.log("ARCHIVE_GOAL");break;case"DELETE_GOAL":c(l)}}});return Object($.jsxs)("div",{className:"goal-header",children:[Object($.jsx)("div",{className:"done-checkbox",children:Object($.jsx)("input",{type:"checkbox",checked:u.done,onChange:function(){r(l,u.done?"planned":"done")}})}),Object($.jsx)("div",{className:"goal-title",children:b?Object($.jsx)(ae,{applyFieldName:function(e){return a(l,e)},endEditing:function(){return O(!1)},title:t.title}):Object($.jsx)("div",{onClick:function(){return o(!i)},children:Object($.jsxs)("p",{children:[t.title,Object($.jsx)("button",{onClick:function(e){e.stopPropagation(),O(!0)},children:"\u270e"})]})})}),i&&Object($.jsx)("div",{children:"Add action item"}),g.map((function(e,a){return Object(n.createElement)(oe,Object(s.a)(Object(s.a)(Object(s.a)({},t),{},{isGoalCollapsed:i},e),{},{key:a}))}))]})})),Oe=Object(i.b)(null,(function(e){return Object(l.b)({changeTimestamp:S,renameCriteria:F,deleteCriteria:H,createCriteria:B,"toggleCriteria\u0421ompletion":M},e)}))((function(e){var t=e.goal,a=e.changeTimestamp,c=e.renameCriteria,r=e.deleteCriteria,o=e.createCriteria,i=e.toggleCriteria\u0421ompletion,s=t.actionItems,l=t.id,u=t.goalDetails,d=t.modifiers,j=Object(n.useState)(!0),b=Object(K.a)(j,2),O=b[0],g=b[1],p=X()("goal",{"goal-opened":!O,"goal--canceled":d.canceled,"goal--done":d.done,"goal--planned_inprogress":!d.canceled&&!d.done});return Object($.jsxs)("div",{className:p,children:[Object($.jsx)(be,{goal:t,isGoalCollapsed:O,showHideGoal:g}),!O&&Object($.jsx)(ce,{goalDetails:u,changeTimestamp:function(e,t){return a(l,e,t)},renameCriteria:function(e,t){return c(l,e,t)},deleteCriteria:function(e){return r(l,e)},createCriteria:function(e){return o(l,e)},"toggleCriteria\u0421ompletion":function(e){return i(l,e)}}),Object($.jsx)("ul",{children:s.map((function(e,t){return Object($.jsx)("li",{children:e},t)}))})]})})),ge=Object(i.b)((function(e){return{categories:e.dashboard.categories,viewBy:e.dashboard.viewBy,goals:e.dashboard.goals}}),(function(e){return Object(l.b)({toggleCollapseCategory:L,deleteCategory:T},e)}))((function(e){var t=e.categories,a=e.viewBy,c=e.goals,r=e.toggleCollapseCategory,o=e.deleteCategory,i=function(e){var t=e.name,a=e.isCollapsed,n=void 0===a||a,i=e.id,s=c.filter((function(e){return e.categoryId===+i}));return Object($.jsxs)("div",{className:"category",children:[Object($.jsxs)("div",{onClick:function(){return r(i)},className:"category-name",children:[Object($.jsxs)("p",{children:[t," - ",s.length]}),Object($.jsx)("div",{className:"cross-line"}),Object($.jsx)("i",{className:"delete-category",onClick:function(e){return function(e,t){e.stopPropagation(),o(t)}(e,i)},children:"\u2717"})]}),!n&&s.map((function(e){return Object($.jsx)(Oe,{goal:e},e.id)}))]},i)};return Object($.jsx)("div",{className:"dashboard",children:function(){switch(a){case"groups":return t.map(i);case"freeList":return c.map((function(t){return Object(n.createElement)(Oe,Object(s.a)(Object(s.a)({},e),{},{goal:t,key:t.id}))}));default:return Object($.jsx)("div",{children:"not found"})}}()})})),pe=Object(i.b)((function(e){return{showGoalCreation:e.dashboard.showGoalCreation,showFilters:e.dashboard.showFilters,goalCreation:e.dashboard.goalCreation,categories:e.dashboard.categories}}),(function(e){return Object(l.b)({addGoal:P,discardGoalCreation:V,toggleFilters:J,changeGoalTitle:Y,createGoal:q,changeGoalCategory:U,changeView:W,createCategory:z},e)}))((function(e){var t=e.showGoalCreation,a=e.showFilters,c=e.goalCreation,r=e.categories,o=e.addGoal,i=e.discardGoalCreation,s=e.toggleFilters,l=e.changeGoalTitle,u=e.changeGoalCategory,d=e.createGoal,j=e.changeView,b=e.createCategory,O=c.title,g=c.categoryId,p=Object(n.useState)(!1),f=Object(K.a)(p,2),m=f[0],h=f[1];return Object($.jsxs)("div",{children:[Object($.jsxs)("div",{className:"filter-controls",children:[Object($.jsx)("div",{className:"goal-creation",children:t?Object($.jsxs)($.Fragment,{children:[Object($.jsx)("input",{type:"text",className:"add-goal-area",placeholder:"Type a goal",onChange:function(e){return l(e.target.value)},value:O}),Object($.jsxs)("div",{className:"actions",children:[Object($.jsx)("button",{disabled:!O.length||!g,onClick:function(){return d(O,g)},children:"\u2713"}),Object($.jsx)("button",{onClick:function(){return i()},children:"\u2715"})]}),Object($.jsxs)("select",{onChange:function(e){return u(e.target.value)},children:[Object($.jsx)("option",{disabled:!0,selected:!0}),r.map((function(e){var t=e.id,a=e.name;return Object($.jsx)("option",{value:t,children:a},t)}))]})]}):Object($.jsx)("button",{onClick:function(){return o()},className:"add-goal",children:"ADD GOAL"})}),a?Object($.jsx)("button",{onClick:function(){return s()},children:"hide filters"}):Object($.jsx)("button",{onClick:function(){return s()},children:"show filters"}),Object($.jsx)("button",{onClick:function(){return h(!m)},children:"Add group"}),Object($.jsxs)("div",{className:"view-by",children:[Object($.jsx)("p",{children:"View by:"}),Object($.jsxs)("select",{onChange:function(e){return j(e.target.value)},children:[Object($.jsx)("option",{value:"groups",children:"Groups"}),Object($.jsx)("option",{value:"freeList",children:"Free list"})]})]})]}),m&&Object($.jsx)(ae,{applyFieldName:function(e){return b(e)},endEditing:function(){return h(!1)},showActionButtons:!0})]})})),fe=Object(i.b)((function(e){return{state:e}}))((function(e){var t=e.state;return Object(n.useEffect)((function(){window.localStorage.setItem("grow",JSON.stringify(t))}),[t]),Object($.jsxs)("div",{className:"main",children:[Object($.jsx)(pe,{}),Object($.jsx)(ge,{})]})})),me=(a(29),a(17)),he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type,e},Ce={closed:!1,done:!1},ye={showGoalCreation:!1,showFilters:!1,goalCreation:{title:"",categoryId:null}},xe=Object(s.a)(Object(s.a)({},ye),{categories:[],goals:[],viewBy:"groups"}),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case u:var c=e.goals.filter((function(e){return e.categoryId===+n.categoryId})).length,r=e.goals.length+1;return Object(s.a)(Object(s.a)({},e),{},{goals:[].concat(Object(ie.a)(e.goals),[se(Object(s.a)(Object(s.a)({},n),{},{groupOrder:c,listOrder:r}))]),categories:e.categories.map((function(e){return e.id===+n.categoryId&&(e.isCollapsed=!1),e}))},ye);case j:return de(e,n);case b:return Object(s.a)(Object(s.a)({},e),{},{categories:e.categories.filter((function(e){return e.id!==n}))});case O:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).modifiers=Object(s.a)(Object(s.a)({},Ce),{},Object(re.a)({},n.status,!0))),e}))});case g:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.filter((function(e){return e.id!==+n.goalId}))});case p:return je(e,n,"title");case f:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&(e.goalDetails[n.name]=[n.value]),e}))});case m:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).goalDetails.successCriteria=e.goalDetails.successCriteria.map((function(e){return e.id===+n.criteriaId&&(e.title=n.title),e}))),e}))});case h:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).goalDetails.successCriteria=e.goalDetails.successCriteria.filter((function(e){return e.id!==+n.criteriaId}))),e}))});case C:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&(e.goalDetails.successCriteria=[].concat(Object(ie.a)(e.goalDetails.successCriteria),[le(n.title)])),e}))});case y:return Object(s.a)(Object(s.a)({},e),{},{goals:e.goals.map((function(e){return e.id===+n.goalId&&((e=Object.assign({},e)).goalDetails.successCriteria=e.goalDetails.successCriteria.map((function(e){return e.id!==+n.criteriaId?e:Object(s.a)(Object(s.a)({},e),{},{isCompleted:!e.isCompleted})}))),e}))});case d:return Object(s.a)(Object(s.a)({},e),{},{categories:[].concat(Object(ie.a)(e.categories),[ue(n)])});case x:return Object(s.a)(Object(s.a)({},e),{},{showFilters:!1,showGoalCreation:!0});case v:return Object(s.a)(Object(s.a)({},e),ye);case N:return Object(s.a)(Object(s.a)({},e),{},{showGoalCreation:!1,showFilters:!e.showFilters});case E:return Object(s.a)(Object(s.a)({},e),{},{goalCreation:Object(s.a)(Object(s.a)({},e.goalCreation),{},{title:t.payload})});case A:return Object(s.a)(Object(s.a)({},e),{},{goalCreation:Object(s.a)(Object(s.a)({},e.goalCreation),{},{categoryId:t.payload})});case I:return Object(s.a)(Object(s.a)({},e),{},{viewBy:t.payload});default:return e}},Ne=[me.a],Ee=Object(l.d)(Object(l.c)({root:he,dashboard:ve}),JSON.parse(window.localStorage.getItem("grow"))||{},l.a.apply(void 0,Ne));o.a.render(Object($.jsx)(c.a.StrictMode,{children:Object($.jsx)(i.a,{store:Ee,children:Object($.jsx)(fe,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.cdf7151d.chunk.js.map